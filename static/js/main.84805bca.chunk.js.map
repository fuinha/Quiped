{"version":3,"sources":["assets/loader.gif","components/Footer.js","components/auth.js","components/Landing.js","assets/config.js","components/Header.js","components/ListItem.js","components/Loader.js","components/Dashboard.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Footer","react_default","a","createElement","className","AuthContext","React","createContext","AuthProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","signIn","setSignIn","_useState3","_useState4","user","setUser","useEffect","firebase","auth","onAuthStateChanged","Provider","value","apps","length","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Landing","useContext","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccess","react_router","to","StyledFirebaseAuth_default","firebaseAuth","Header","src","onClick","stats","style","alt","ListItem","keyValue","name","item","enabled","occupied","status","time","showExtend","handleExtend","key","borderColor","display","indexOf","Loader","loader","Dashboard","data","setData","occupiedUser","setOccupiedUser","_useContext","_useState5","_useState6","loading","setLoading","setInterval","readUserData","sendUserData","database","ref","set","on","snapshot","val","remainingTime","timestamp","moment","unix","toLocaleString","add","b","diff","lessThanZero","roomId","roomName","occupant","property","updateRoom","id","occupantProp","User","child","remove","occupyUser","Array","from","values","map","freeRoom","filter","concat","colorCode","color","photoURL","signOut","undefined","displayName","isNaN","arr","flag","some","items","occupy","RoomId","push","sendData","occupantName","extendTime","App","auth_AuthProvider","react_router_dom","basename","process","exact","path","component","Boolean","window","location","hostname","match","console","disableYellowBox","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.84805bca.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loader.584b607f.gif\";","import React from 'react'\n\nexport default function Footer() {\n  return (\n      <footer className=\"fixed-bottom bg-info  w-100 d-flex justify-content-between p-2\">\n        <p className=\"small text-white\">&copy; Copyright 2020, All rights reserved.</p>\n        <p className=\"small text-white\">Made with &hearts; by Sudhir</p>\n      </footer>\n  )\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"firebase\";\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [signIn, setSignIn] = useState(false);\n  const [user, setUser] = useState(\"\");\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      setSignIn(!!user);\n      setUser(user);\n    });\n  }, []);\n  \n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        signIn\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","/* eslint-disable react-native/no-inline-styles */\nimport React, {useContext } from \"react\";\nimport {Redirect} from 'react-router-dom';\nimport firebase from \"firebase\";\nimport \"../design/App.css\";\nimport { config } from \"../assets/config\";\nimport Footer from \"./Footer\";\nimport { AuthContext } from \"./auth\"\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\n\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n}\n\nconst Landing = () => {\n  const {signIn} = useContext(AuthContext)\n  const uiConfig = {\n    signInFlow: \"popup\",\n    signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n    callbacks: {\n      signInSuccess: () => false,\n    },\n  };\n\n  if(signIn){\n    return <Redirect to={\"/dashboard\"} />\n  }\n\n  return (\n      <div className=\"bg\">\n        <div className=\"d-flex flex-column justify-content-center  align-items-center h-75\">\n          <h1 className=\"font-weight-bold title\">Quiped</h1>\n          <h6 className=\"text-capitalize text-white tag\">conference room management application.</h6>\n          <StyledFirebaseAuth\n            uiConfig={uiConfig}\n            firebaseAuth={firebase.auth()}\n          />\n        </div>\n        <Footer />\n     </div>\n  );\n};\n\nexport default Landing;\n","export const  config = {\n  apiKey: \"AIzaSyBDlpHzVdhhdvX41O5l642UpTH-1ycZQ0k\",\n  authDomain: \"quiped-4d0e3.firebaseapp.com\",\n  databaseURL: \"https://quiped-4d0e3.firebaseio.com\",\n  projectId: \"quiped-4d0e3\",\n  storageBucket: \"quiped-4d0e3.appspot.com\",\n  messagingSenderId: \"780974138254\",\n  appId: \"1:780974138254:web:1ec3792d7a20d0bf633adf\",\n  measurementId: \"G-SYF0K0H7X9\"\n};\n\nexport const message = \"Please ask your administrator to add rooms.\"\n","import React from 'react'\n\nexport default function Header({src,onClick,stats,style}) {\n  return (\n    <div className=\"pb-3\">\n      <div className=\"d-flex justify-content-between align-items-center w-90\">\n        <h6 className=\"my-3 font-weight-bold\" style={style}>Occupancy Status: {stats} available </h6>\n        <div>\n          <img src={src} alt=\"profile\" className=\"profile\" />\n          <button onClick={onClick}>\n            <p className=\"logout\">Sign Out</p>\n          </button>\n        </div>\n      </div>\n      <li className=\"small text-dark\">Rooms already occupied by other members can't be occupied.</li>\n      <li className=\"small text-dark\">You can only occupy one vacant room at a time.</li>\n      <li className=\"small text-dark\">Extend button would be visible five minutes before the end time. Clicking on it will add another hour in your end time.</li>\n      <li className=\"small text-dark\">Do remember to vacate by clicking again at the end of the meeting.</li>\n    </div>\n  )\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react'\nimport '../design/App.css';\n\nexport default function ListItem({keyValue,name,item,enabled,onClick,occupied,user,status,time,showExtend,handleExtend}) {\n  return (\n    <div className=\"d-flex justify-content-between align-items-center list\" >\n      <p className=\"text-info font-weight-bold\" key={keyValue}>{name}</p>\n      <div className=\"d-flex  justify-content-between \">\n        <p className=\"tab text-info px-2\">{time}</p>\n        {showExtend && user === item ? <p className=\"tab text-danger hand px-2 \" onClick={handleExtend}>Book again</p> : null }\n        {item ?\n          <p className=\"tab text-success px-3\">{item}</p> : <p className=\"tab text-info px-3\">Vacant</p>\n        }\n        <div style={{ borderColor:  status ? '#0c9' : '#999',display: status ? 'block' : occupied.indexOf(user) === -1 && enabled  ? 'block' : 'none' }}\n          className=\"box\"\n          onClick={onClick} >\n        </div>\n      </div>\n    </div>\n  )\n}\n\n","import React from 'react'\nimport loader from \"../assets/loader.gif\";\n\nexport default function Loader(style) {\n  return (\n    <div className=\"loading d-flex justify-content-center align-items-center h-75 flex-column\" style={style}>\n      <img src={loader} alt=\"loader\" />\n      <p className=\"text-info\">Updating status ...</p>\n    </div>\n  )\n}\n","/* eslint-disable react-native/no-inline-styles */\nimport React , {useState,useContext, useEffect} from \"react\";\nimport {Redirect} from 'react-router-dom';\nimport { message } from \"../assets/config\";\nimport firebase from \"firebase\";\nimport moment from \"moment\";\nimport Header from \"./Header\"\nimport ListItem from \"./ListItem\"\nimport { AuthContext } from \"./auth\"\nimport Footer from \"./Footer\";\nimport Loader from \"./Loader\";\n\nconst Dashboard = () => {\nconst [data, setData] = useState([]);\nconst [occupiedUser, setOccupiedUser] = useState([]);\nconst { user,signIn } = useContext(AuthContext);\nconst [loading,setLoading]= useState(false);\n\nuseEffect(() => {\n  setInterval(() => {\n    readUserData();\n  }, 1000);\n}, []);\n\nconst sendData = (id) => {\n  let flag = data.some((items) => items.occupant === user.displayName);\n  let arr;\n  arr = data.map((items) => {\n    if (!flag && items.id === id && items.occupant === \"\") {\n      items.status = !items.status;\n      items.occupant = user.displayName;\n      items.enabled = true;\n      items.timestamp = moment().unix()\n      const occupy = {\n        RoomId: items.id,\n        User: user.displayName,\n        timestamp:moment().unix()\n      };\n      firebase.database().ref(\"Occupy\").push(occupy);\n    } else if (flag && items.id === id && items.occupant === user.displayName) {\n       items.status = !items.status;\n       items.occupant = \"\";\n       items.timestamp = null;\n       for (const property in occupiedUser){\n        if(occupiedUser[property].User === user.displayName){\n          firebase.database().ref().child(\"Occupy/\"+property).remove()\n        }\n      }\n    }\n    return items;\n  });\n  setData(arr);\n  sendUserData();\n};\n\nconst sendUserData = () => {\n  firebase\n  .database()\n  .ref(\"Rooms/\")\n  .set({\n    data,\n  });\n};\n\nconst readUserData = () => {\n  setLoading(true);\n  firebase\n    .database()\n    .ref(\"Rooms/\")\n    .on(\"value\", function (snapshot) {\n      setData(snapshot.val().data);\n      setLoading(false)\n    });\n  firebase\n    .database()\n    .ref(\"Occupy/\")\n    .on(\"value\", function (snapshot) {\n      setOccupiedUser(snapshot.val());\n      setLoading(false)\n    });\n};\n\nconst remainingTime = (timestamp) => {\n  const a = moment(moment(moment.unix(timestamp).toLocaleString()).add(60,'m').toLocaleString())\n  const b = moment.unix(moment().unix()).toLocaleString()\n  return a.diff(b,'minutes')\n}\n\nconst lessThanZero = (roomId,roomName,occupant) => {\n  const property = roomId-1\n  const updateRoom = {\n    enabled:true,\n    id:roomId,\n    name:roomName,\n    occupant:\"\",\n    status:false,\n    timestamp:null\n  }\n  firebase\n  .database()\n  .ref(\"Occupy/\")\n  .on(\"value\", function (snapshot) {\n    for (const occupantProp in snapshot.val()){\n      if(snapshot.val()[occupantProp].User === occupant){\n        firebase.database().ref().child(\"Occupy/\"+occupantProp).remove()\n      }\n    }\n  })\n  firebase.database().ref(\"Rooms/data\").child(property).set(updateRoom);\n}\n\nconst extendTime = (roomId,roomName,occupantName) => {\n  const property = roomId-1\n  const updateRoom = {\n    enabled:true,\n    id:roomId,\n    name:roomName,\n    occupant:occupantName,\n    status:true,\n    timestamp:moment().unix()\n  }\n  firebase.database().ref(\"Rooms/data\").child(property).set(updateRoom);\n}\n\n\nconst occupy = occupiedUser ? Array.from(Object.values(occupiedUser)) : [\"Dummy User\"]\nconst occupyUser = occupy.map((item) => {\n  return item.User\n})\n\nif(!signIn){\n  return <Redirect to={\"/\"} />\n}\n\nconst freeRoom = data.filter(item => item.occupant === '').length;\nconst stats= freeRoom === 0 ? 'No room' : freeRoom === 1 ? '1 room' : `${freeRoom} rooms`;\nconst colorCode = stats === 'No room' ? 'tomato' : '#0c9';\n\n  return (\n    <div className=\"bg\">\n      <div className=\"container position-relative vh-100\">\n        <Header\n          style={{color: colorCode}}\n          src={user && user.photoURL}\n          onClick={() => firebase.auth().signOut()}\n          stats={stats}\n        />\n        {loading ? <Loader style={{ display: loading ? 'flex' : 'none' }} /> :\n          data !== undefined ?\n            data.map(item => {\n              return <ListItem\n              keyValue={item.id}\n              name={item.name}\n              item={item.occupant}\n              status={item.status}\n              occupied={occupyUser}\n              user={user.displayName}\n              enabled={item.enabled}\n              time={\n                isNaN(remainingTime(item.timestamp))\n                  ? null\n                :\n                remainingTime(item.timestamp) <= 0\n                  ? lessThanZero(item.id,item.name,item.occupant)\n                : remainingTime(item.timestamp) > 0 && remainingTime(item.timestamp) <= 5\n                  ? remainingTime(item.timestamp) +  \" mins left\"\n                :\n                  remainingTime(item.timestamp) + \" mins left\"\n              }\n              onClick={() => sendData(item.id)}\n              handleExtend = {() => extendTime(item.id,item.name,item.occupant)}\n              showExtend={item.status && remainingTime(item.timestamp) <= 5}\n            />\n          }) : <p>{message}</p>}\n        <Footer />\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","/* eslint-disable react-native/no-inline-styles */\nimport React from \"react\";\nimport { Route, Switch, BrowserRouter as Router } from \"react-router-dom\";\nimport \"./design/App.css\";\nimport Landing from \"./components/Landing\";\nimport Dashboard from \"./components/Dashboard\";\nimport { AuthProvider} from \"./components/auth.js\";\n\nconst App = () => {\n  return (\n    <div className=\"app\">\n      <AuthProvider >\n        <Router basename={process.env.PUBLIC_URL}>\n          <Switch>\n            <Route exact path=\"/\" component={Landing} />\n            <Route exact path=\"/dashboard\" component={Dashboard} />\n          </Switch>\n        </Router>\n      </AuthProvider>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './design/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nconsole.disableYellowBox = true;\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}