(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){},33:function(e,t,a){e.exports=a.p+"static/media/loader.584b607f.gif"},34:function(e,t,a){e.exports=a(61)},39:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(28),l=a.n(o),r=(a(39),a(19)),i=a(11),s=(a(21),a(6)),m=a.n(s);function u(){return c.a.createElement("footer",{className:"position-fixed bg-info w-100 d-flex justify-content-between p-3"},c.a.createElement("p",{className:"text-white small"},"\xa9 Copyright 2020, All rights reserved."),c.a.createElement("p",{className:"text-white small"},"Made with \u2665 by Sudhir"))}var d=a(15),f=c.a.createContext(),p=function(e){var t=e.children,a=Object(n.useState)(!1),o=Object(d.a)(a,2),l=o[0],r=o[1],i=Object(n.useState)(""),s=Object(d.a)(i,2),u=s[0],p=s[1];return Object(n.useEffect)(function(){m.a.auth().onAuthStateChanged(function(e){r(!!e),p(e)})},[]),c.a.createElement(f.Provider,{value:{user:u,signIn:l}},t)},b=a(29),h=a.n(b);m.a.apps.length||m.a.initializeApp({apiKey:"AIzaSyBTDdfKRjLHO0zyKnuGuot5_ZBQXzpjL3U",authDomain:"rnfirebase-9458f.firebaseapp.com",databaseURL:"https://rnfirebase-9458f.firebaseio.com",projectId:"rnfirebase-9458f",storageBucket:"rnfirebase-9458f.appspot.com",messagingSenderId:"77224361806",appId:"1:77224361806:web:5d7701ade13d4243"});var E=function(){var e=Object(n.useContext)(f).signIn,t={signInFlow:"popup",signInOptions:[m.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}};return e?c.a.createElement(i.a,{to:"/dashboard"}):c.a.createElement("div",{className:"bg"},c.a.createElement("div",{className:"d-flex flex-column justify-content-center  align-items-center h-75"},c.a.createElement("h1",{className:"text-white font-weight-bold my-3 "},"Quiped"),c.a.createElement(h.a,{uiConfig:t,firebaseAuth:m.a.auth()})),c.a.createElement(u,null))};function g(e){var t=e.src,a=e.onClick,n=e.freeRoom,o=e.totalRoom;return c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex justify-content-between align-items-center w-90"},c.a.createElement("h5",{className:"text-info text-center my-3"},"Quiped App"),c.a.createElement("div",null,c.a.createElement("img",{src:t,alt:"profile",className:"profile"}),c.a.createElement("button",{onClick:a},c.a.createElement("p",{className:"logout"},"Sign Out")))),c.a.createElement("li",{className:"small font-weight-bold text-dark"},"Rooms already occupied by other members can't be occupied."),c.a.createElement("li",{className:"small font-weight-bold text-dark"},"You can only occupy one room at a time which are vacant."),c.a.createElement("li",{className:"small font-weight-bold text-dark"},"At the end of the meeting please click again to vacate."),c.a.createElement("div",{className:"d-flex justify-content-between align-items-center w-90 py-2"},c.a.createElement("p",{className:"tab font-weight-bold text-info"},"Rooms Occupied"),c.a.createElement("p",{className:"tab font-weight-bold text-info"},n," / ",o)))}function v(e){var t=e.key,a=e.name,n=e.item,o=e.enabled,l=e.onClick,r=e.occupied,i=e.user,s=e.status;return c.a.createElement("div",{onClick:l,className:"d-flex justify-content-between align-items-center list",key:t},c.a.createElement("p",{className:"text-info"},a),c.a.createElement("div",{className:"d-flex  justify-content-between align-items-center "},n?c.a.createElement("p",{className:"tab text-warning px-3"},n):c.a.createElement("p",{className:"tab text-info px-3"},"Vacant"),c.a.createElement("div",{style:{borderColor:s?"#0c9":"grey",display:s?"block":-1===r.indexOf(i)&&o?"block":"none"},className:"box"})))}var y=a(33),x=a.n(y);function w(e){return c.a.createElement("div",{className:"loading d-flex justify-content-center align-items-center h-75 flex-column",style:e},c.a.createElement("img",{src:x.a,alt:"loader"}),c.a.createElement("p",{className:"text-info"},"Updating status ..."))}var N=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),r=Object(d.a)(l,2),s=r[0],p=r[1],b=Object(n.useContext)(f),h=b.user,E=b.signIn,y=Object(n.useState)(!1),x=Object(d.a)(y,2),N=x[0],j=x[1];Object(n.useEffect)(function(){k()},[]);var O=function(){m.a.database().ref("Rooms/").set({data:a})},k=function(){j(!0),m.a.database().ref("Rooms/").on("value",function(e){o(e.val().data),j(!1)}),m.a.database().ref("Occupy/").on("value",function(e){p(e.val()),j(!1)})},I=(s?Array.from(Object.values(s)):["Dummy User"]).map(function(e){return e.User});if(!E)return c.a.createElement(i.a,{to:"/"});var R=a.filter(function(e){return""!==e.occupant}).length;return c.a.createElement("div",{className:"bg"},c.a.createElement("div",{className:"container position-relative vh-100"},c.a.createElement(g,{src:h&&h.photoURL,onClick:function(){return m.a.auth().signOut()},freeRoom:R,totalRoom:a.length}),N?c.a.createElement(w,{style:{display:N?"flex":"none"}}):void 0!==a?a.map(function(e){return c.a.createElement(v,{key:e.id,name:e.name,item:e.occupant,status:e.status,occupied:I,user:h.displayName,enabled:e.enabled,onClick:function(){return function(e){var t,n=a.some(function(e){return e.occupant===h.displayName});t=a.map(function(t){if(n||t.id!==e||""!==t.occupant){if(n&&t.id===e&&t.occupant===h.displayName)for(var a in t.status=!t.status,t.occupant="",s)s[a].User===h.displayName&&m.a.database().ref().child("Occupy/"+a).remove()}else{t.status=!t.status,t.occupant=h.displayName,t.enabled=!0;var c={RoomId:t.id,User:h.displayName};m.a.database().ref("Occupy").push(c)}return t}),o(t),O()}(e.id)}})}):c.a.createElement("p",null,"Please ask your administrator to add rooms."),c.a.createElement(u,null)))},j=function(){return c.a.createElement("div",{className:"app"},c.a.createElement(p,null,c.a.createElement(r.a,{basename:"/Quiped"},c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/",component:E}),c.a.createElement(i.b,{exact:!0,path:"/dashboard",component:N})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));console.disableYellowBox=!0,l.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.0afdb744.chunk.js.map