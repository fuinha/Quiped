{"version":3,"sources":["components/Footer.js","components/auth.js","components/Landing.js","assets/config.js","components/Header.js","components/ListItem.js","components/Dashboard.js","App.js","serviceWorker.js","index.js"],"names":["Footer","react_default","a","createElement","className","AuthContext","React","createContext","AuthProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","signIn","setSignIn","_useState3","_useState4","user","setUser","useEffect","firebase","auth","onAuthStateChanged","Provider","value","apps","length","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Landing","useContext","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccess","react_router","to","StyledFirebaseAuth_default","firebaseAuth","Header","src","onClick","alt","ListItem","key","name","item","enabled","occupied","status","style","display","borderColor","indexOf","Dashboard","data","setData","occupiedUser","setOccupiedUser","_useContext","readUserData","sendUserData","database","ref","set","on","snapshot","val","occupyUser","Array","from","values","map","User","photoURL","signOut","undefined","id","occupant","displayName","arr","flag","some","items","property","child","remove","occupy","RoomId","push","sendData","App","auth_AuthProvider","react_router_dom","basename","process","exact","path","component","Boolean","window","location","hostname","match","console","disableYellowBox","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c43b4094.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function Footer() {\n  return (\n      <footer className=\"position-fixed bg-info w-100 d-flex justify-content-between p-3\">\n        <p className=\"text-white small\">&copy; Copyright 2020, All rights reserved.</p>\n        <p className=\"text-white small\">Made with &hearts; by Sudhir</p>\n      </footer>\n  )\n}\n","import React, { useEffect, useState } from \"react\";\nimport firebase from \"firebase\";\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [signIn, setSignIn] = useState(false);\n  const [user, setUser] = useState(\"\");\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      setSignIn(!!user);\n      setUser(user);\n    });\n  }, []);\n  \n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        signIn\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","/* eslint-disable react-native/no-inline-styles */\nimport React, {useContext } from \"react\";\nimport {Redirect} from 'react-router-dom';\nimport firebase from \"firebase\";\nimport \"../design/App.css\";\nimport { config } from \"../assets/config\";\nimport Footer from \"./Footer\";\nimport { AuthContext } from \"./auth\"\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n}\n\nconst Landing = () => {\n  const {signIn} = useContext(AuthContext)\n  const uiConfig = {\n    signInFlow: \"redirect\",\n    signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n    callbacks: {\n      signInSuccess: () => false,\n    },\n  };\n\n  if(signIn){\n    return <Redirect to={\"/dashboard\"} />\n  }\n\n  return (\n      <div className=\"bg\">\n        <div className=\"d-flex flex-column justify-content-center  align-items-center h-75\">\n          <h3 className=\"text-white font-weight-bold my-3 \">Quiped Application</h3>\n          <StyledFirebaseAuth\n            uiConfig={uiConfig}\n            firebaseAuth={firebase.auth()}\n          />\n        </div>\n        <Footer />\n     </div>\n  );\n};\n\nexport default Landing;\n","export const  config = {\n  apiKey: \"AIzaSyBTDdfKRjLHO0zyKnuGuot5_ZBQXzpjL3U\",\n  authDomain: \"rnfirebase-9458f.firebaseapp.com\",\n  databaseURL: \"https://rnfirebase-9458f.firebaseio.com\",\n  projectId: \"rnfirebase-9458f\",\n  storageBucket: \"rnfirebase-9458f.appspot.com\",\n  messagingSenderId: \"77224361806\",\n  appId: \"1:77224361806:web:5d7701ade13d4243\"\n};\n\nexport const message = \"Please ask your administrator to add rooms.\"\n","import React from 'react'\n\nexport default function Header({src,onClick}) {\n  return (\n    <div className=\"d-flex justify-content-between align-items-center  w-90\">\n      <h5 className=\"text-info text-center my-3\">Occupancy Status</h5>\n      <div>\n        <img src={src} alt=\"profile\" className=\"pro\" />\n        <button onClick={onClick}>\n          <p className=\"logout\">Sign Out</p>\n        </button>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport '../design/App.css';\n\nexport default function ListItem({key,name,item,enabled,onClick,occupied,user,status}) {\n  return (\n    <div onClick={onClick}  style={{ display:  enabled ? 'red' : 'green' }} className=\"d-flex  justify-content-between align-items-center list\" key={key}>\n      <p className=\"text-info\">{name}</p>\n      <div className=\"d-flex  justify-content-between align-items-center \">\n        {item ?\n          <p className=\"tab text-warning px-3\">{item}</p> : <p className=\"tab text-info px-3\">Vacant</p>\n        }\n        <div style={{ borderColor:  status ? '#0c9' : 'grey',display: status ? 'block' : occupied.indexOf(user) === -1 && enabled  ? 'block' : 'none' }}\n          className=\"box\">\n        </div>\n      </div>\n    </div>\n  )\n}\n\n","/* eslint-disable react-native/no-inline-styles */\nimport React , {useState,useContext, useEffect} from \"react\";\nimport {Redirect} from 'react-router-dom';\nimport { message } from \"../assets/config\";\nimport firebase from \"firebase\";\nimport Header from \"./Header\"\nimport ListItem from \"./ListItem\"\nimport { AuthContext } from \"./auth\"\nimport Footer from \"./Footer\";\n\nconst Dashboard = () => {\nconst [data, setData] = useState([]);\nconst [occupiedUser, setOccupiedUser] = useState([]);\nconst { user,signIn } = useContext(AuthContext)\n\nuseEffect(() => {\n  readUserData();\n}, []);\n\nconst sendData = (id) => {\n  let flag = data.some((items) => items.occupant === user.displayName);\n  let arr;\n  arr = data.map((items) => {\n    if (!flag && items.id === id && items.occupant === \"\") {\n      items.status = !items.status;\n      items.occupant = user.displayName;\n      items.enabled = true;\n      const occupy = {\n        RoomId: items.id,\n        User: user.displayName,\n      };\n      firebase.database().ref(\"Occupy\").push(occupy);\n    } else if (flag && items.id === id && items.occupant === user.displayName) {\n       items.status = !items.status;\n       items.occupant = \"\";\n       for (const property in occupiedUser){\n        if(occupiedUser[property].User === user.displayName){\n          firebase.database().ref().child(\"Occupy/\"+property).remove()\n        }\n      }\n    }\n    return items;\n  });\n  setData(arr);\n  sendUserData();\n};\n\nconst sendUserData = () => {\n  firebase\n  .database()\n  .ref(\"Rooms/\")\n  .set({\n    data,\n  });\n};\n\nconst readUserData = () => {\n  firebase\n    .database()\n    .ref(\"Rooms/\")\n    .on(\"value\", function (snapshot) {\n      setData(snapshot.val().data);\n    });\n  firebase\n    .database()\n    .ref(\"Occupy/\")\n    .on(\"value\", function (snapshot) {\n      setOccupiedUser(snapshot.val());\n    });\n};\n\nconst occupy = occupiedUser ? Array.from(Object.values(occupiedUser)) : [\"Dummy User\"]\nconst occupyUser = occupy.map((item) => {\n  return item.User\n})\n\nif(!signIn){\n  return <Redirect to={\"/\"} />\n}\n\n  return (\n      <div className=\"container position-relative vh-100\">\n        <Header src={user && user.photoURL} onClick={() => firebase.auth().signOut()}/>\n        {data !== undefined ?\n        data.map(item =>\n          <ListItem key={item.id} name={item.name} item={item.occupant} status={item.status} occupied={occupyUser} user={user.displayName} enabled={item.enabled} onClick={() => sendData(item.id)} />\n        ) : <p>{message}</p>}\n        <Footer/>\n      </div>\n  );\n};\n\nexport default Dashboard;\n","/* eslint-disable react-native/no-inline-styles */\nimport React from \"react\";\nimport { Route, Switch, BrowserRouter as Router } from \"react-router-dom\";\nimport \"./design/App.css\";\nimport Landing from \"./components/Landing\";\nimport Dashboard from \"./components/Dashboard\";\nimport { AuthProvider} from \"./components/auth.js\";\n\nconst App = () => {\n  return (\n    <div className=\"app\">\n      <AuthProvider >\n        <Router basename={process.env.PUBLIC_URL}>\n          <Switch>\n            <Route exact path=\"/\" component={Landing} />\n            <Route exact path=\"/dashboard\" component={Dashboard} />\n          </Switch>\n        </Router>\n      </AuthProvider>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './design/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nconsole.disableYellowBox = true;\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}