(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){},33:function(e,t,a){e.exports=a(60)},38:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(28),o=a.n(r),i=(a(38),a(19)),s=a(11),l=(a(21),a(6)),u=a.n(l);function m(){return c.a.createElement("footer",{className:"position-fixed bg-info w-100 d-flex justify-content-between p-3"},c.a.createElement("p",{className:"text-white small"},"\xa9 Copyright 2020, All rights reserved."),c.a.createElement("p",{className:"text-white small"},"Made with \u2665 by Sudhir"))}var d=a(15),p=c.a.createContext(),f=function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(d.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)(""),l=Object(d.a)(s,2),m=l[0],f=l[1];return Object(n.useEffect)(function(){u.a.auth().onAuthStateChanged(function(e){i(!!e),f(e)})},[]),c.a.createElement(p.Provider,{value:{user:m,signIn:o}},t)},b=a(29),h=a.n(b);u.a.apps.length||u.a.initializeApp({apiKey:"AIzaSyBDlpHzVdhhdvX41O5l642UpTH-1ycZQ0k",authDomain:"quiped-4d0e3.firebaseapp.com",databaseURL:"https://quiped-4d0e3.firebaseio.com",projectId:"quiped-4d0e3",storageBucket:"quiped-4d0e3.appspot.com",messagingSenderId:"780974138254",appId:"1:780974138254:web:1ec3792d7a20d0bf633adf",measurementId:"G-SYF0K0H7X9"});var v=function(){var e=Object(n.useContext)(p).signIn,t={signInFlow:"redirect",signInOptions:[u.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}};return e?c.a.createElement(s.a,{to:"/dashboard"}):c.a.createElement("div",{className:"bg"},c.a.createElement("div",{className:"d-flex flex-column justify-content-center  align-items-center h-75"},c.a.createElement("h3",{className:"text-white font-weight-bold my-3 "},"Quiped Application"),c.a.createElement(h.a,{uiConfig:t,firebaseAuth:u.a.auth()})),c.a.createElement(m,null))};function E(e){var t=e.src,a=e.onClick;return c.a.createElement("div",{className:"d-flex justify-content-between align-items-center  w-90"},c.a.createElement("h5",{className:"text-info text-center my-3"},"Occupancy Status"),c.a.createElement("div",null,c.a.createElement("img",{src:t,alt:"profile",className:"pro"}),c.a.createElement("button",{onClick:a},c.a.createElement("p",{className:"logout"},"Sign Out"))))}function y(e){var t=e.key,a=e.name,n=e.item,r=e.enabled,o=e.onClick,i=e.occupied,s=e.user,l=e.status;return c.a.createElement("div",{onClick:o,style:{display:r?"red":"green"},className:"d-flex  justify-content-between align-items-center list",key:t},c.a.createElement("p",{className:"text-info"},a),c.a.createElement("div",{className:"d-flex  justify-content-between align-items-center "},n?c.a.createElement("p",{className:"tab text-warning px-3"},n):c.a.createElement("p",{className:"tab text-info px-3"},"Vacant"),c.a.createElement("div",{style:{borderColor:l?"#0c9":"grey",display:l?"block":-1===i.indexOf(s)&&r?"block":"none"},className:"box"})))}var g=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),i=Object(d.a)(o,2),l=i[0],f=i[1],b=Object(n.useContext)(p),h=b.user,v=b.signIn;Object(n.useEffect)(function(){w()},[]);var g=function(){u.a.database().ref("Rooms/").set({data:a})},w=function(){u.a.database().ref("Rooms/").on("value",function(e){r(e.val().data)}),u.a.database().ref("Occupy/").on("value",function(e){f(e.val())})},x=(l?Array.from(Object.values(l)):["Dummy User"]).map(function(e){return e.User});return v?c.a.createElement("div",{className:"container position-relative vh-100"},c.a.createElement(E,{src:h&&h.photoURL,onClick:function(){return u.a.auth().signOut()}}),void 0!==a?a.map(function(e){return c.a.createElement(y,{key:e.id,name:e.name,item:e.occupant,status:e.status,occupied:x,user:h.displayName,enabled:e.enabled,onClick:function(){return function(e){var t,n=a.some(function(e){return e.occupant===h.displayName});t=a.map(function(t){if(n||t.id!==e||""!==t.occupant){if(n&&t.id===e&&t.occupant===h.displayName)for(var a in t.status=!t.status,t.occupant="",l)l[a].User===h.displayName&&u.a.database().ref().child("Occupy/"+a).remove()}else{t.status=!t.status,t.occupant=h.displayName,t.enabled=!0;var c={RoomId:t.id,User:h.displayName};u.a.database().ref("Occupy").push(c)}return t}),r(t),g()}(e.id)}})}):c.a.createElement("p",null,"Please ask your administrator to add rooms."),c.a.createElement(m,null)):c.a.createElement(s.a,{to:"/"})},w=function(){return c.a.createElement("div",{className:"app"},c.a.createElement(f,null,c.a.createElement(i.a,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/",component:v}),c.a.createElement(s.b,{exact:!0,path:"/dashboard",component:g})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));console.disableYellowBox=!0,o.a.render(c.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.3e0fe0b1.chunk.js.map